{% extends "./base.njk" %}

{% from "macros/card/macro.njk" import card %}
{% from "macros/heading/macro.njk" import heading %}

{% set items = collections.all
  | eleventyNavigation(eleventyNavigation.key)
  | sort(false, false, "key")
%}

{% block content %}
  <div class="app-masthead">
    <div class="app-layout__content">
      {{ heading({ text: title }) }}

      {{ content | safe }}
    </div>
  </div>
  <div class="app-layout__content">
    {% for pairs in items | batch(2) %}
      <div class="govuk-grid-row">
        {% for item in pairs %}
          {# don't include 'View all components' entry #}
          {% if item.url !== '/components' %}
            {% set imgname = item.title|lower|replace(" ", "-") %}

            {% call card({
              layout: "side-by-side",
              headingFirst: true,
              title: item.title,
              classNames: "buildingblock-card",
              imageLink: "/assets/images/thumbs/thumb-" + imgname + ".png",
              imageLinkLarge: "/assets/images/thumbs/thumb-" + imgname + ".png",
              imageAlt: "",
              imageClassNames: "buildingblock-card__image"

            }) %}

              <p>{{ item.excerpt }}</p>
              <p>
                <a href="{{ item.url }}">View the &lsquo;{{ item.title }}&rsquo; documentation</a>
              </p>
            {% endcall %}
          {% endif %}
        {% endfor %}
      </div>
      {% endfor %}
<!--

Commenting out below paragraph until roadmap and contribution journey are added.

    <hr/>
    <h2 class="govuk-heading-m">If you can't find what you need</h2>
    <p>We're improving and expanding our building blocks. Check our <a href="/updates/roadmap">roadmap</a> to see what's coming next.</p>
    <p>You can also <a href="/contribute">contribute a component to the Design System</a>. This can help other teams working on similar problems.</p>

-->

  </div>

{% endblock %}

